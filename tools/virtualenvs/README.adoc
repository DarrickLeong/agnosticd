# AgnosticD Python Virtual Environments

This directory holds AgnosticD virtual environment definitions.
These definitions are used by automation to configure the virtual environments used in production deployments with AgnosticD.
These may also be used to create and test with virtual environments from your development workstation or environment.

## Virtual Environments

Virtual environments should be named using one of the following conventions:

* `ansible<major.minor>-python<major.minor>-<date>` - Multi-cloud virtual environment.
Components should be the latest tested functional versions as of the date in the filename.
Ansible version should be 2.9+ and python version should be 3.6+.
Ex: `ansible2.9-python3.6-2020-11-30`.

* `<purpose>-ansible<major.minor>-python<major.minor>-<date>` - Virtual environment customized for a particular purpose.
For example, the `<purpose>` string could be to support a particular version of a cloud provider different from what is included in the multi-cloud environment.
Ansible version should be 2.9+ and python version should be 3.6+.
Ex: `gcp0.34.0-ansible2.9-python3.6-2020-12-01`.

Symbolic links without the `-<date>` suffix are provided as useful shortcuts but should not be used outside of development purposes.
AgnosticV virtual environment configurations should always target specific dated versions.

A number of legacy virtual environments are also managed here and should be gradually phased out and removed.

### ansible2.9-python3.6

Ansible 2.9 with Python 3.6 with multi-cloud support.
Though this virtualenv is specifically written for Python 3.6 it should be compatible with later Python3 versions as well.

Setup:

```
python3 -m venv ~/virtualenvs/ansible2.9-python3.6
. ~/virtualenvs/ansible2.9-python3.6/bin/activate
pip install -r tools/virtualenvs/ansible2.9-python3.6.txt
```

### aws-ansible-2.9

Ansible 2.9 with Python 2.7 and AWS support.

Setup:

```
python2 -m virtualenv ~/virtualenvs/aws-ansible-2.9
. ~/virtualenvs/aws-ansible-2.9/bin/activate
pip install -r tools/virtualenvs/aws-ansible-2.9.txt
```

### azure-ansible2.9

Ansible 2.9 with Python 3.6 with Azure support.
Though this virtualenv is specifically written for Python 3.6 it should be compatible with later Python3 versions as well.

Setup:

```
python3 -m venv ~/virtualenvs/azure-ansible-2.9
. ~/virtualenvs/azure-ansible2.9/bin/activate
pip install -r tools/virtualenvs/azure-ansible2.9.txt
```

### openstack-ansible-2.9.12.txt

Ansible 2.9.12 with Python 2.7 and OpenStack support.
There was a change with functional impact regarding TLS verification in the `package` module btween Ansible 2.9.12 and 2.9.13.
This virtualenv was created to support environments that relied on the old behavior where gpg checks were not functioning.

Setup:

```
python2 -m virtualenv ~/virtualenvs/openstack-ansible-2.9.12
. ~/virtualenvs/openstack-ansible-2.9.12/bin/activate
pip install -r tools/virtualenvs/openstack-ansible-2.9.12.txt
```

### openstack-ansible-2.9.txt

Ansible 2.9 with Python 2.7 and OpenStack support.

Setup:

```
python2 -m virtualenv ~/virtualenvs/openstack-ansible-2.9
. ~/virtualenvs/openstack-ansible-2.9/bin/activate
pip install -r tools/virtualenvs/openstack-ansible-2.9.txt
```
